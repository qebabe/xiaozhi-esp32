# 小智桌面机器人项目

## 1. 项目介绍

该桌面机器人就是在小智的基础上增加了一个电机驱动模块来控制两个轮子电机来做出一些动作。后期还会增加如激光传感器、再增加手臂舵机等其他模块。

### 欢迎加入QQ群内交流：183253687

![图片](https://ossbigdata.yunjiutoutiao.com/PicGo/qebabe-xiaoche1.jpg)

**具体玩法：详细功能分析**

## 2. 组装连线

### 2.1 DIY 所需硬件

- **开发板**：ESP32-S3-DevKitC-1（选择 WROOM N16R8 模组）
- **数字麦克风**：INMP441 / ICS43434
- **功放**：MAX98357A
- **腔体喇叭**：8Ω 2~3W 或 4Ω 2~3W
- **导线**：跳线一盒，杜邦线若干
- **400 孔面包板**：2 块
- **128x64 I2C(IIC) 液晶显示屏**：SSD1306 驱动（推荐）
- **6*6mm 立式 轻触开关**（可选）

除此之外，你可能还需要用到万用表，电烙铁套件，钳子三件套，Type-C数据线，用于烧录固件的PC。

### 2.2 小智部分

更详细组装文档请查看：[小智AI聊天机器人面包板DIY硬件清单与接线教程](https://xiaoche.ytqhz.com/)

在小智面包板的基础上增加：`GPIO12`、`GPIO13`、`GPIO14`、`GPIO21` 这四个接口连接电机驱动模块（迷你L298N）

**接线对照表：**
![接线对照表图片](https://ossbigdata.yunjiutoutiao.com/PicGo/1280X1280.PNG)

## 3. 固件烧录

### 3.1 在线固件烧录

**Web在线烧录**：专门写了一个可以在线烧录的页面，免去了下载固件和用本地的烧录工具烧录。

🔗 [在线烧录地址](https://xiaoche.ytqhz.com/)

### 3.2 本地固件烧录

#### 测试固件 V0.6

- **更新内容**：优化动作、网页端新增动作控制按钮

#### 测试固件 V0.5

- **更新内容**：
  - 优化唤醒动作
  - 全面实现 PWM 控制

#### 版本更新说明 🔧 电机动作系统修复

##### 1. 表情动作映射完善

- 扩展 `TriggerMotorEmotion` 函数，支持所有 motor_cmd (1-6) 的完整映射
- 添加 5 个新的独特表情动作：`OnExcited`、`OnLoving`、`OnAngry`、`OnSurprised`、`OnConfused`
- 调整表情映射，实现表情与动作一一对应，避免多个表情共用同一动作

##### 2. 跳舞动作升级

- 重写 `MotorDance` 方法，实现完整的 8 步舞蹈序列
- 从简单的单一动作升级为：前进→左转→右转→后退→前进→左转→右转→结束的丰富舞蹈

##### 3. 表情动作优化

- **excited**：快速三连动（前进→左转→右转）
- **loving**：温柔双连动（前进→轻柔左转）
- **angry**：强烈冲突动（后退→前冲）
- **surprised**：突然反应动（快速后退→前进）
- **confused**：犹豫多段动（反复左右转）

现在每个表情都有独特的电机动作表现，跳舞命令也能执行完整的舞蹈序列了！ 🎉

#### 测试固件 V0.4

- **更新内容**：
  - 修复不能唤醒
  - 增加控制小车网页，系统初始化后直接访问板子的IP地址即可打开控制界面

#### 测试固件 V0.3

- **更新内容**：修改了电机引脚为 GPIO12、GPIO13、GPIO14、GPIO21

**备用方法（本地烧录）**：Flash工具/Web端烧录固件（无IDF开发环境）

## 4. 开源地址

🔗 [GitHub 仓库](https://github.com/qebabe/xiaozhi-esp32)

---
